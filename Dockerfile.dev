# ==================================================
# SmartQuary Maintenance App Frontend - DEV Dockerfile
# ==================================================
# Development with hot reload

FROM node:20-alpine

WORKDIR /app

# Copy package files first
COPY package*.json ./

# Install dependencies (will be cached in image layer)
RUN npm install

# Copy source code (will be overridden by volume mount)
COPY . .

# Expose Vite dev server port
EXPOSE 5173

# Use entrypoint to ensure deps are synced if package.json changes
CMD ["sh", "-c", "npm install && npm run dev"]
